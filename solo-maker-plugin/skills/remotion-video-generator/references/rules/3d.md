---
name: 3d
description: 3D content in Remotion using Three.js and React Three Fiber.
metadata:
  tags: 3d, three, threejs
---

# Using Three.js and React Three Fiber in Remotion

Follow React Three Fiber and Three.js best practices.
Only the following Remotion-specific rules must be followed:

## Prerequisites

First, the `@remotion/three` package must be installed.

```bash
npx remotion add @remotion/three
```

## Using ThreeCanvas

You MUST wrap 3D content in `<ThreeCanvas>` and include appropriate lighting.
`<ThreeCanvas>` MUST have `width` and `height` props.

```tsx
import { ThreeCanvas } from "@remotion/three";
import { useVideoConfig } from "remotion";

const { width, height } = useVideoConfig();

<ThreeCanvas width={width} height={height}>
  <ambientLight intensity={0.4} />
  <directionalLight position={[5, 5, 5]} intensity={0.8} />
  <mesh>
    <sphereGeometry args={[1, 32, 32]} />
    <meshStandardMaterial color="red" />
  </mesh>
</ThreeCanvas>;
```

## No animations not driven by `useCurrentFrame()`

Shaders, models, etc. MUST NOT animate on their own.
No animation is allowed unless it is driven by `useCurrentFrame()`.
Otherwise, it will cause flickering during rendering.

The use of `useFrame()` from `@react-three/fiber` is forbidden.

## Animating using `useCurrentFrame()`

Use `useCurrentFrame()` to perform animations.

```tsx
const frame = useCurrentFrame();
const rotationY = frame * 0.02;

<mesh rotation={[0, rotationY, 0]}>
  <boxGeometry args={[2, 2, 2]} />
  <meshStandardMaterial color="#4a9eff" />
</mesh>;
```
